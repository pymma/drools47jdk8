<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_05) on Sun Aug 13 12:41:03 CDT 2006 -->
<TITLE>
RulesRepository (rules repository API)
</TITLE>

<META NAME="keywords" CONTENT="org.drools.repository.RulesRepository class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="RulesRepository (rules repository API)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/RulesRepository.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/drools/repository/RulePackageItem.html" title="class in org.drools.repository"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/drools/repository/RulesRepository.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="RulesRepository.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.drools.repository</FONT>
<BR>
Class RulesRepository</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>org.drools.repository.RulesRepository</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>RulesRepository</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
RulesRepository is the class that defines the bahavior for the JBoss Rules (drools) rule repository
 based upon the JCR specification (JSR-170).  
 <p>
 An instance of this class is capable of storing rules used by the JBoss Rule engine.  It also 
 provides a versioning capability for rules.  Rules can be imported from specified files.  The 
 RulesRepository is also capable of storing DSL content.  Rules can be explicitly tied to a 
 particular DSL node within the repository, and this reference can either follow the head version,
 or a specific version of the DSL node.  
 <p>
 The RulesRepository also is capable of storing RulePackages, which aggregate one or more Rules into 
 a set.  RulePackages hold references to the nodes storing the content of the rules in the set within 
 the repository.  Each entry in a rulepackage can either refer to the head version of the given rule
 node, or a specific version.   
 <p>
 Rules can be tagged. Tags are stored in a separate area of the repository, and can be added on
 demand.  Rules can have 0 or more tags. Tags are intended to help provide a means for searching
 for specific types of rules quickly, even when they aren't all part of the same rulepackage.
 <p>
 Rules can be associated with 0 or 1 states.  States are created in a seperate area of the 
 repository. States are intended to help track the progress of a rule as it traverses its life-
 cycle. (e.g. draft, approved, deprecated, etc.)
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>btruitt</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#DSL_AREA">DSL_AREA</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the DSL area of the repository</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#RULE_AREA">RULE_AREA</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the rule area of the repository</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#RULE_PACKAGE_AREA">RULE_PACKAGE_AREA</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the rulepackage area of the repository</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#RULES_REPOSITORY_NAME">RULES_REPOSITORY_NAME</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the rules repository within the JCR repository</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#STATE_AREA">STATE_AREA</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the state area of the repository</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#TAG_AREA">TAG_AREA</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the tag area of the repository</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#RulesRepository()">RulesRepository</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will create the JCR repository automatically if it does not already exist.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#RulesRepository(boolean)">RulesRepository</A></B>(boolean&nbsp;clearRepository)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will create the JCR repository automatically if it does not already exist.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/DslItem.html" title="class in org.drools.repository">DslItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#addDslFromFile(java.io.File)">addDslFromFile</A></B>(java.io.File&nbsp;file)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a DSL node in the repository using the content and attributes of the specified file</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;javax.jcr.Node</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#addNodeIfNew(javax.jcr.Node, java.lang.String, java.lang.String)">addNodeIfNew</A></B>(javax.jcr.Node&nbsp;parent,
             java.lang.String&nbsp;nodeName,
             java.lang.String&nbsp;type)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Will add a node named 'nodeName' of type 'type' to 'parent' if such a node does not already
 exist.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/RuleItem.html" title="class in org.drools.repository">RuleItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#addRuleFromFile(java.io.File)">addRuleFromFile</A></B>(java.io.File&nbsp;file)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a Rule node in the repository using the content and attributes of the specified file</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/RuleItem.html" title="class in org.drools.repository">RuleItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#addRuleFromFile(java.io.File, org.drools.repository.DslItem)">addRuleFromFile</A></B>(java.io.File&nbsp;file,
                <A HREF="../../../org/drools/repository/DslItem.html" title="class in org.drools.repository">DslItem</A>&nbsp;dslItem)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a Rule node in the repository using the content and attributes of the specified file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/RuleItem.html" title="class in org.drools.repository">RuleItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#addRuleFromFile(java.io.File, org.drools.repository.DslItem, boolean)">addRuleFromFile</A></B>(java.io.File&nbsp;file,
                <A HREF="../../../org/drools/repository/DslItem.html" title="class in org.drools.repository">DslItem</A>&nbsp;dslItem,
                boolean&nbsp;followDslHead)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a Rule node in the repository using the content and attributes of the specified file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#clearRepository()">clearRepository</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clears out the entire tree below the rules repository node of the JCR repository.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/RulePackageItem.html" title="class in org.drools.repository">RulePackageItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#createRulePackage(java.lang.String)">createRulePackage</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a rule package node in the repository.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#dumpRepository()">dumpRepository</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recursively outputs the contents of the workspace starting from root.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/StateItem.html" title="class in org.drools.repository">StateItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#getState(java.lang.String)">getState</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a StateItem for the specified state name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/TagItem.html" title="class in org.drools.repository">TagItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#getTag(java.lang.String)">getTag</A></B>(java.lang.String&nbsp;tagName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a TagItem object that encapsulates the node for the specified tag name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#logout()">logout</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Explicitly logout of the underlying JCR repository.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#setupRepository()">setupRepository</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attempts to setup the repository.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="RULE_PACKAGE_AREA"><!-- --></A><H3>
RULE_PACKAGE_AREA</H3>
<PRE>
public static final java.lang.String <B>RULE_PACKAGE_AREA</B></PRE>
<DL>
<DD>The name of the rulepackage area of the repository
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.drools.repository.RulesRepository.RULE_PACKAGE_AREA">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="RULE_AREA"><!-- --></A><H3>
RULE_AREA</H3>
<PRE>
public static final java.lang.String <B>RULE_AREA</B></PRE>
<DL>
<DD>The name of the rule area of the repository
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.drools.repository.RulesRepository.RULE_AREA">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="DSL_AREA"><!-- --></A><H3>
DSL_AREA</H3>
<PRE>
public static final java.lang.String <B>DSL_AREA</B></PRE>
<DL>
<DD>The name of the DSL area of the repository
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.drools.repository.RulesRepository.DSL_AREA">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="TAG_AREA"><!-- --></A><H3>
TAG_AREA</H3>
<PRE>
public static final java.lang.String <B>TAG_AREA</B></PRE>
<DL>
<DD>The name of the tag area of the repository
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.drools.repository.RulesRepository.TAG_AREA">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="STATE_AREA"><!-- --></A><H3>
STATE_AREA</H3>
<PRE>
public static final java.lang.String <B>STATE_AREA</B></PRE>
<DL>
<DD>The name of the state area of the repository
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.drools.repository.RulesRepository.STATE_AREA">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="RULES_REPOSITORY_NAME"><!-- --></A><H3>
RULES_REPOSITORY_NAME</H3>
<PRE>
public static final java.lang.String <B>RULES_REPOSITORY_NAME</B></PRE>
<DL>
<DD>The name of the rules repository within the JCR repository
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.drools.repository.RulesRepository.RULES_REPOSITORY_NAME">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="RulesRepository()"><!-- --></A><H3>
RulesRepository</H3>
<PRE>
public <B>RulesRepository</B>()</PRE>
<DL>
<DD>This will create the JCR repository automatically if it does not already exist.  
 It will call setupRepository() to attempt to setup the repository, in case
 it has not already been setup.
<P>
</DL>
<HR>

<A NAME="RulesRepository(boolean)"><!-- --></A><H3>
RulesRepository</H3>
<PRE>
public <B>RulesRepository</B>(boolean&nbsp;clearRepository)</PRE>
<DL>
<DD>This will create the JCR repository automatically if it does not already exist.  
 It will call setupRepository() to attempt to setup the repository, in case
 it has not already been setup.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>clearRepository</CODE> - whether or not to erase the contents of the rules repository
                        portion of the JCR repository</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="clearRepository()"><!-- --></A><H3>
clearRepository</H3>
<PRE>
public void <B>clearRepository</B>()</PRE>
<DL>
<DD>Clears out the entire tree below the rules repository node of the JCR repository.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setupRepository()"><!-- --></A><H3>
setupRepository</H3>
<PRE>
protected void <B>setupRepository</B>()
                        throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>Attempts to setup the repository.  If the work that it tries to do has already been done, it 
 will return with modifying the repository.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addNodeIfNew(javax.jcr.Node, java.lang.String, java.lang.String)"><!-- --></A><H3>
addNodeIfNew</H3>
<PRE>
protected javax.jcr.Node <B>addNodeIfNew</B>(javax.jcr.Node&nbsp;parent,
                                      java.lang.String&nbsp;nodeName,
                                      java.lang.String&nbsp;type)
                               throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>Will add a node named 'nodeName' of type 'type' to 'parent' if such a node does not already
 exist.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>parent</CODE> - the parent node to add the new node to<DD><CODE>nodeName</CODE> - the name of the new node<DD><CODE>type</CODE> - the type of the new node
<DT><B>Returns:</B><DD>a reference to the Node object that is created by the addition, or, if the node already
         existed, a reference to the pre-existant node.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="logout()"><!-- --></A><H3>
logout</H3>
<PRE>
public void <B>logout</B>()</PRE>
<DL>
<DD>Explicitly logout of the underlying JCR repository.  If this is the last session to that
 repository, the repository will automatically be shutdown.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="dumpRepository()"><!-- --></A><H3>
dumpRepository</H3>
<PRE>
public void <B>dumpRepository</B>()
                    throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>Recursively outputs the contents of the workspace starting from root. The large subtree
 called jcr:system is skipped.  This method is just here for programmatic debugging 
 purposes, and should be removed.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addDslFromFile(java.io.File)"><!-- --></A><H3>
addDslFromFile</H3>
<PRE>
public <A HREF="../../../org/drools/repository/DslItem.html" title="class in org.drools.repository">DslItem</A> <B>addDslFromFile</B>(java.io.File&nbsp;file)
                       throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>Adds a DSL node in the repository using the content and attributes of the specified file
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>file</CODE> - the file to use to import the DSL content and attributes
<DT><B>Returns:</B><DD>a DslItem object encapsulating the node that gets added
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addRuleFromFile(java.io.File)"><!-- --></A><H3>
addRuleFromFile</H3>
<PRE>
public <A HREF="../../../org/drools/repository/RuleItem.html" title="class in org.drools.repository">RuleItem</A> <B>addRuleFromFile</B>(java.io.File&nbsp;file)
                         throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>Adds a Rule node in the repository using the content and attributes of the specified file
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>file</CODE> - the file to use to import the DSL content and attributes
<DT><B>Returns:</B><DD>a RuleItem object encapsulating the node that gets added
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addRuleFromFile(java.io.File, org.drools.repository.DslItem)"><!-- --></A><H3>
addRuleFromFile</H3>
<PRE>
public <A HREF="../../../org/drools/repository/RuleItem.html" title="class in org.drools.repository">RuleItem</A> <B>addRuleFromFile</B>(java.io.File&nbsp;file,
                                <A HREF="../../../org/drools/repository/DslItem.html" title="class in org.drools.repository">DslItem</A>&nbsp;dslItem)
                         throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>Adds a Rule node in the repository using the content and attributes of the specified file. 
 Links the newly created node with the specified DSL node within the repository. This link
 will follow the head verion of the DSL node.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>file</CODE> - the file to use to import the DSL content and attributes<DD><CODE>dslItem</CODE> - the DslItem containing the node to link the newly created rule node with
<DT><B>Returns:</B><DD>a RuleItem object encapsulting the node that gets added
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addRuleFromFile(java.io.File, org.drools.repository.DslItem, boolean)"><!-- --></A><H3>
addRuleFromFile</H3>
<PRE>
public <A HREF="../../../org/drools/repository/RuleItem.html" title="class in org.drools.repository">RuleItem</A> <B>addRuleFromFile</B>(java.io.File&nbsp;file,
                                <A HREF="../../../org/drools/repository/DslItem.html" title="class in org.drools.repository">DslItem</A>&nbsp;dslItem,
                                boolean&nbsp;followDslHead)
                         throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>Adds a Rule node in the repository using the content and attributes of the specified file. 
 Links the newly created node with the specified DSL node within the repository.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>file</CODE> - the file to use to import the DSL content and attributes<DD><CODE>dslItem</CODE> - the DslItem containing the node to link the newly created rule node with<DD><CODE>followDslHead</CODE> - if true, the link to the DSL node will follow the head revision of that 
                      node. if false, it will continue to refer to the specified version even
                      if a new version of the DSL node is checked in
<DT><B>Returns:</B><DD>a RuleItem object encapsulating the node that gets added
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createRulePackage(java.lang.String)"><!-- --></A><H3>
createRulePackage</H3>
<PRE>
public <A HREF="../../../org/drools/repository/RulePackageItem.html" title="class in org.drools.repository">RulePackageItem</A> <B>createRulePackage</B>(java.lang.String&nbsp;name)
                                  throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>Adds a rule package node in the repository. This node has a property called 
 drools:rule_reference that is a multi-value reference property.  It will hold an array of 
 references to rule nodes that are subsequently added.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - what to name the node added
<DT><B>Returns:</B><DD>a RulePackageItem, encapsulating the created node
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getState(java.lang.String)"><!-- --></A><H3>
getState</H3>
<PRE>
public <A HREF="../../../org/drools/repository/StateItem.html" title="class in org.drools.repository">StateItem</A> <B>getState</B>(java.lang.String&nbsp;name)
                   throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>Gets a StateItem for the specified state name.  If a node for the specified state does not
 yet exist, one is first created.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the name of the state to get
<DT><B>Returns:</B><DD>a StateItem object encapsulating the retreived node
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTag(java.lang.String)"><!-- --></A><H3>
getTag</H3>
<PRE>
public <A HREF="../../../org/drools/repository/TagItem.html" title="class in org.drools.repository">TagItem</A> <B>getTag</B>(java.lang.String&nbsp;tagName)
               throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>Gets a TagItem object that encapsulates the node for the specified tag name.  If the tag does
 not already exist in the repository when this is called, it is first added to the repository
 and then returned.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tagName</CODE> - the name of the tag to get. If the tag to get is within a heirarchy of
                tag nodes, specify the full path to the tag node of interest (e.g. if
                you want to get back 'child-tag', use "parent-tag/child-tag")
<DT><B>Returns:</B><DD>a TagItem object encapsulating the node for the tag in the repository
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/RulesRepository.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/drools/repository/RulePackageItem.html" title="class in org.drools.repository"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/drools/repository/RulesRepository.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="RulesRepository.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<i>Copyright &#169; 2006 Rackspace Corp. All Rights Reserved.</i>
</BODY>
</HTML>
